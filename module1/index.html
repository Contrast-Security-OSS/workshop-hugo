<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>Module 1: First Time Contrast Users</title>
<meta name="description" content="The Contrast Security Workshop">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="/workshop-hugo/reveal-js/css/reset.css">
<link rel="stylesheet" href="/workshop-hugo/reveal-js/css/reveal.css"><link rel="stylesheet" href="/workshop-hugo/reveal-js/css/theme/contrast.css" id="theme">
<link rel="stylesheet" href="/workshop-hugo/highlight-js/default.min.css">
    

<style>
 
.reveal section pre {
  box-shadow: none;
  margin-top: 25px;
  margin-bottom: 25px;
  border: 1px solid lightgrey;
}
.reveal section pre:hover {
  border: 1px solid grey;
  transition: border 0.3s ease;
}
.reveal section pre > code {
  padding: 10px;
}
.reveal table {
  font-size: 0.65em;
}
 
.reveal section.side-by-side h1 {
  position: absolute;
}
.reveal section.side-by-side h1:first-of-type {
  left: 25%;
}
.reveal section.side-by-side h1:nth-of-type(2) {
  right: 25%;
}
.reveal section[data-background-image] a,
.reveal section[data-background-image] p,
.reveal section[data-background-image] h2 {
  color: white;
}
.reveal section[data-background-image] a {
  text-decoration: underline;
}
</style>

  </head>
  <body>
    <div class="reveal">
      <div class="slides">
  

    <section>


<aside class="notes"><p>Instructors: you&rsquo;ll need to configure a few things for this workshop.</p>
<ul>
<li>Use apps/eval-provisioning/create-orgs.sh to setup your student user eval users.</li>
<li>Use apps/setup.sh to setup and run containers with vulnerable applications.</li>
<li>Provision a running VM for each user from the AZ-hosted workstation image.</li>
</ul>
</aside>
<h1 id="module-1-first-time-contrast-users">Module 1: First Time Contrast Users</h1>
<p>Jump to:</p>
<ul>
<li><a href="#/module-introduction">Module Introduction</a></li>
<li><a href="#/introduction-to-teamserver">Introduction to TeamServer</a></li>
<li><a href="#/the-webgoat-application">The WebGoat application</a></li>
<li><a href="#/exploiting-software">Exploiting software</a></li>
<li><a href="#/the-contrast-cli">The Contrast CLI</a></li>
<li><a href="#/libraries">Libraries</a></li>
<li><a href="#/next-steps">Next Steps</a></li>
</ul>
</section>

<section data-noprocess data-shortcode-slide
      id="module-introduction">
  
<h2 id="module-introduction">Module Introduction</h2>
<p>In this section we&rsquo;ll guide you through a sequence of steps to run a sample application already configured for Contrast Security.</p>
<p>This sequence will help you see the advantages of running an application with IAST built-in, because the more you exercise these applications, the more data we collect representing true execution of your code.</p>
<p>We&rsquo;ll also show you how to exercise some exploits to observe how Contrast Security protects your  applications.</p>
</section><section>
<h3 id="objectives">Objectives</h3>
<ul>
<li>Learn the basics of application security</li>
<li>Gain familiarity with Contrast Security Assess</li>
<li>Exercise tests to expose additional vulnerabilities</li>
</ul>
</section>

<section data-noprocess data-shortcode-slide
    data-background="#0011dd"
    data-transition="convex"
    data-template="info">
  
<h3 id="time-and-prerequisites">Time and Prerequisites</h3>
<p>This module should take about 45 minutes to complete.</p>
<p>Be sure to have completed the <a href="../#/setup-and-prerequisites">prerequisites</a></p>
</section><section>
<h3 id="sample-application---webgoat">Sample application - WebGoat</h3>
<p>We&rsquo;ll start by deploying a vulnerable Java application named WebGoat.  This is a Java open-sourced example designed to helped explain common vulnerabilities as identified by the OWASP Foundation.</p>
<p>At Contrast Security, we place emphasis on <em>instrumenting</em> software to help teams get better results faster as part of their DevOps pipelines.  In this module, you will see the benefits of seeing these results faster.</p>
</section><section>
<h3 id="building-and-instrumenting-code">Building and instrumenting code</h3>
<p>The application for this module is available at <a href="https://github.com/Contrast-Security-OSS/WebGoat_BBP_FORK">https://github.com/Contrast-Security-OSS/WebGoat_BBP_FORK</a> but we&rsquo;ve already built and instrumented the code to get us a working environment faster.</p>
<p>In later modules, we&rsquo;ll walk you through the process of instrumenting an application.</p>
</section><section>
<h3 id="deploying-your-application">Deploying your application</h3>
<p>This workshop is designed to have you deploy an application so you can see its data added as part of an onboarding lifecycle.</p>
<p>Your instructor already deployed applications configured with your TeamServer credentials.  You will receive the connection details for your applications as a URLs for each vulnerable application.</p>
</section><section>
<h3 id="what-happens-when-you-deploy-an-application">What happens when you deploy an application?</h3>
<p>When you deploy your instrumented application, a few things happen:</p>
<ul>
<li>The agent connects with the remote TeamServer</li>
<li>The agent starts sending data for the application</li>
<li>If licenses are available, details for the application are visible in TeamServer</li>
</ul>
<p>In the next section, we&rsquo;ll look at working with the Contrast Security User Interface running on TeamServer.</p>
</section>

<section data-noprocess data-shortcode-slide
      id="introduction-to-teamserver">
  
<h2 id="introduction-to-teamserver">Introduction to TeamServer</h2>
<p>There are several options to observe information about vulnerabilities in Contrast Security:</p>
<ul>
<li>The browser User Interface (UI)</li>
<li>Programmatic/Command-Line (CLI) API access</li>
<li>Via various integrations (Jira, Slack, IDEs, etc.)</li>
</ul>
<p>We&rsquo;ll focus on both the UI and CLI options.</p>
</section><section>



<aside class="notes"><p>The dashboard is a landing page for all Contrast Security users - developers, operations, security, and administrators.  The different dashboard pages provide an overview for your team to quickly assess the status of the application security.</p>
</aside>
<h3 id="log-on-to-teamserver">Log on to TeamServer</h3>
<p>Start by logging onto the Contrast Security UI at <a href="https://eval.contrastsecurity.com">https://eval.contrastsecurity.com</a> with your supplied username and password.</p>
<p>We&rsquo;ll use the default landing page&rsquo;s dashboard as the starting point for this module&rsquo;s exercise.</p>
<p><figure>
    <img src="../images/04-dashboard.png#center" height="400px"/> 
</figure>

<a href="../images/04-dashboard.png">See the full-sized picture</a></p>
</section><section>



<aside class="notes"><p>In this slide, we should have already setup each user with their running applications so data has been sent to TeamServer.</p>
</aside>
<h3 id="teamserver-notification">TeamServer Notification</h3>
<p>Click on the bell icon in the upper right-hand corner to see notifications alerting us to the automatic onboarding of our new server and application.</p>
<p><figure>
    <img src="01-notifications-new-applications.png" height="400px"/> 
</figure>

<a href="01-notifications-new-applications.png">See the full-sized picture</a></p>
<p>Your teams should expect an easy onboarding process especially if they regularly create and delete infrastructure and applications on demand.  This is especially true for teams as they shift to using cloud-based and ephemeral environments.  This automatic registration lets teams opt into a security model to the delight of your team members interested in security.</p>
</section><section>
<h3 id="teamserver-dashboard">TeamServer Dashboard</h3>
<p>Back to the main dashboard, you should see a summary about your deployed applications:</p>
<ul>
<li>Number of Applications, Libraries and Servers</li>
<li>Average time to remediate vulnerabilties</li>
<li>Current vulnerabilities, listed by severity</li>
<li>Current attacks</li>
</ul>
<p><figure>
    <img src="../images/04-dashboard.png#center" height="400px"/> 
</figure>

<a href="../images/04-dashboard.png">See the full-sized picture</a></p>
</section><section>
<h3 id="real-time-visibility">Real-Time Visibility</h3>
<p>As you and your teams onboard applications, their results will be added to Contrast Security for better visibility into the state of your application development in real time.  This screenshot shows the dashboard after greater use with much more activity.</p>
<p><figure>
    <img src="m1-dashboard.png" height="400px"/> 
</figure>

<a href="m1-dashboard.png">See the full-sized picture</a></p>
</section><section>
<h3 id="ongoing-data-collection">Ongoing Data Collection</h3>
<p>From the onset, you accumulate results in TeamServer.  This is the first of many advantages of IAST, where your team&rsquo;s day-to-day exercising and testing automatically generates meaningful results of security vulnerabilities.  As you and your teams exercise more of your software, we&rsquo;ll keep track of new vulnerabilities and their remediation.</p>
<p>This means you can add Contrast Security to your existing workflow and start using results immediately.
There is high value to all members of your team when you can leverage this information with minimal configuration.</p>
<p>Next, we&rsquo;ll look through TeamServer to uncover new vulnerabilties.  Start by clicking into the Application heading:</p>
<p><figure>
    <img src="04-dashboard-command-bar-applications.png"/> 
</figure>

<a href="04-dashboard-command-bar-applications.png">See the full-sized picture</a></p>
</section>

<section data-noprocess data-shortcode-slide
      id="the-webgoat-application">
  
<h2 id="the-webgoat-application">The WebGoat application</h2>
<p>Click into the name of your application, which contains &ldquo;webgoat&rdquo; and today&rsquo;s date.</p>
<p><figure>
    <img src="03-applications.png"/> 
</figure>

<a href="03-applications.png">See the full-sized picture</a></p>
</section>
<p>
<section data-noprocess data-shortcode-slide
    data-background="#32a852"
    data-transition="zoom"
    data-template="note">
  



<aside class="notes"><p>Instructors: Describe each page as needed for your target audience.  Toggle between the presentation and a live view of TeamServer to highlight features.</p>
</aside></p>
<h3 id="lets-see-the-data-weve-already-collected">Let&rsquo;s see the data we&rsquo;ve already collected.</h3>
<p>Contrast Security starts by collecting information the moment your application is deployed.  Let&rsquo;s review this information.</p>
<p>The next several slides are an overview of the TeamServer User Interface.  We&rsquo;ll walk you through each major page and describe what it brings to your team.</p>
<ul>
<li>Overview</li>
<li>Vulnerabilities</li>
<li>Attacks</li>
<li>Libraries</li>
<li>Activity</li>
<li>Route Coverage</li>
<li>Flow Map</li>
<li>Policy</li>
</ul>
</section><section>
<h3 id="webgoat-overview">Webgoat Overview</h3>
<p>As soon as you run your registered application, Contrast Security will collect information.  The more you exercise the application, the more data we&rsquo;ll report.  This means if your team has manual or automated tests, we&rsquo;ll leverage those activities in our data collection.</p>
<p><figure>
    <img src="09-webgoat-overview.png" height="500px"/> 
</figure>

<a href="09-webgoat-overview.png">See the full-sized picture</a></p>
</section><section>
<h3 id="the-vulnerabilities-page">The Vulnerabilities Page</h3>
<figure>
    <img src="09-webgoat-vulnerabilities.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="09-webgoat-vulnerabilities.png">See the full-sized picture</a></p>
        </figcaption>
</figure>

</section><section>
<h3 id="the-attacks-page">The Attacks Page</h3>
<p>Contrast Security shows the attacks on your system.  We don&rsquo;t yet have attacks, but we&rsquo;ll add some later when we attack our software.
<figure>
    <img src="09-webgoat-attacks-none.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="09-webgoat-attacks-none.png">See the full-sized picture</a></p>
        </figcaption>
</figure>
</p>
</section><section>
<h3 id="the-libraries-page">The Libraries Page</h3>
<p>Contrast Security shows the different libraries included in your application, plus <em>if the library is actually used.</em></p>
<p>When your teams see actual use, they can focus on libraries with greatest impact.</p>
<figure>
    <img src="09-webgoat-libraries.png"
         alt="See the full-sized picture"/> <figcaption>
            <p><a href="09-webgoat-libraries.png">See the full-sized picture</a></p>
        </figcaption>
</figure>

</section><section>
<h3 id="the-route-coverage-page">The Route Coverage page</h3>
<p>Contrast Security shows the path, or route, through your application as we detect where vulnerabilities exist.  As you exercise the application with acutal use cases, we will see this page fill in.
<figure>
    <img src="09-webgoat-route-coverage.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="09-webgoat-route-coverage.png">See the full-sized picture</a></p>
        </figcaption>
</figure>
</p>
</section><section>
<h3 id="the-policy-page">The Policy Page</h3>
<p>Contrast Security gives your team fine-grained control over the rules and the outcomes Contrast Security applies to your application.</p>
<figure>
    <img src="09-webgoat-policy.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="09-webgoat-policy.png">See the full-sized picture</a></p>
        </figcaption>
</figure>

</section>

<section data-noprocess data-shortcode-slide
      id="exploiting-software">
  
<h2 id="exploiting-software---sql-injection">Exploiting software - SQL Injection</h2>
<p>Now let&rsquo;s exploit the software for some known vulnerabilities.  A common exploit is SQL injection.</p>
<p>SQL injection is a vulnerability that allows an attacker to insert extra commands into a text field.  This usually happens because the application does not have sufficient guards in the processing of that text field.  We&rsquo;ll look at an example in this section and show the results in TeamServer.</p>
</section><section>
<h3 id="navigate-to-the-application">Navigate to the application</h3>



<aside class="notes"><p>Explain the nature of the WebGoat application, and some of the navigation options.</p>
</aside>
<p>Your instructor will give you application details in this form:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape>yourname-java-webgoat-svc End point ready - http://52.149.201.3:18101/WebGoat
</code></pre></div><p>The front part is the name of your application in TeamServer, and the URL is for the application.  Navigate to the URL and enter the credentials supplied to you by the instructor.</p>
<p>Login with the WebGoat Admin presented on the login page.</p>
<figure>
    <img src="14-webgoat-mainpage.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="14-webgoat-mainpage.png">See the full-sized picture</a></p>
        </figcaption>
</figure>

</section><section>
<h3 id="webgoat-sql-injecting-data-entry">WebGoat: SQL Injecting Data Entry</h3>
<p>In this part, we&rsquo;ll insert some text to exploit the application at the <em>Injection Flaws-&gt;String SQL Injection</em> subpage.</p>
<p>In the box to enter your last name, enter the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape>Erwin&#39; OR &#39;1&#39;=&#39;1
</code></pre></div><p>This text will cause a classic SQL Injection.  Let&rsquo;s review the results in the next screens.</p>
<figure>
    <img src="14-webgoat-sql-injection.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="14-webgoat-sql-injection.png">See the full-sized picture</a></p>
        </figcaption>
</figure>

</section><section>
<h3 id="teamserver-sql-injection-overview">TeamServer: SQL Injection Overview</h3>



<aside class="notes"><p>This section examines the details for a single exploit.
Explain how the look-and-feel is consistent, and the information is designed to help the developer quickly identify the vulnerability with the specific data supplied to the application.</p>
<p>The Details page shows the path of our vulnerability.  This is an improvement beyond the URL, because Contrast also shows how the vulnerability affects running code.</p>
</aside>
<p>You should see a new <a href="09-sql-injection-notifications.png">notification</a> indicating your application has been attacked and exploited.  If you click into the application and examine the vulnerabilities, you&rsquo;ll see a new vulnerability with <b>CRITICAL</b> severity. Click into the vulnerability to see the details.</p>
<p>Review the contents of the &ldquo;Overview&rdquo; and &ldquo;Details&rdquo; subpages.</p>
<figure>
    <img src="15-webgoat-sql-injection-overview.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="15-webgoat-sql-injection-overview.png">See the full-sized picture</a></p>
        </figcaption>
</figure>

</section><section>
<h3 id="teamserver-vulnerability-details">TeamServer: Vulnerability Details</h3>
<p>The details page provides a clear narrative about the vulnerability, and highlights the path the request into the application code.</p>
<figure>
    <img src="15-webgoat-sql-injection-details.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="15-webgoat-sql-injection-details.png">See the full-sized picture</a></p>
        </figcaption>
</figure>

</section><section>
<h3 id="teamserver-sql-injection-http-info-explained">TeamServer: SQL Injection HTTP Info explained</h3>
<p>Next, click into the &ldquo;HTTP Info subpage&rdquo; to see HTTP details of the operation, and the chance to re-run this request from TeamServer.</p>
<figure>
    <img src="15-webgoat-sql-injection-http-info.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="15-webgoat-sql-injection-http-info.png">See the full-sized picture</a></p>
        </figcaption>
</figure>

</section><section>
<h3 id="teamserver-sql-injection-how-to-fix">TeamServer: SQL Injection &ldquo;How To Fix&rdquo;</h3>
<p>After identifying the vulnerability, Contrast Security also explains how you can fix it.  In addition to a reference implementation, we also offer links to external sources further explaining the vulnerability.  This is our way of ensuring you have the best information available to address software vulnerabilities.</p>
<figure>
    <img src="15-webgoat-sql-injection-howto-fix.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="15-webgoat-sql-injection-howto-fix.png">See the full-sized picture</a></p>
        </figcaption>
</figure>

</section>

<section data-noprocess data-shortcode-slide
      id="the-contrast-cli">
  
<h2 id="the-contrast-cli">The Contrast CLI</h2>
<p>In this section, we&rsquo;ll show you how to programmatically access the same information via API.  At Contrast Security, we recognize the value an API-enabled solution provides to DevOps teams to access data and information.  In the next few examples, we&rsquo;ll show you some of the same information from the UI in CLI form.</p>
<p>You can also reference the Contrast Security [API documentation] (<a href="https://api.contrastsecurity.com">https://api.contrastsecurity.com</a>).</p>
<p>The Contrast CLI requires more detailed knowledge to make API calls.  We&rsquo;ll guide you on the different pieces of information we need in order to continue with the module.  In TeamServer, applications, servers, and other items have unique IDs we use to perform a number of operations.  While we are manually collecting and manipulating those values for this introductory module, real-world teams use the preferred programming or scripting languages to automate the use of these items.</p>
</section><section>
<h3 id="source-code-scripts">Source code: scripts</h3>
<p>At Contrast Security, we&rsquo;ve published our workshop files to GitHub so you can access the content there.  Let&rsquo;s start by getting the code for this project so you can run some script.  From your workstation, open a command prompt and run the following command:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape>git clone https://github.com/Contrast-Security-OSS/workshop
cd workshop
</code></pre></div><p>The command-line commands you will run will be from the checked out folder, named <code>workshop.</code></p>
</section><section>
<h3 id="your-application-id">Your Application ID</h3>
<p>The first piece of information we&rsquo;ll get is the unique Application ID for your running instance of WebGoat.</p>
<p>While looking at a TeamServer page for your application, note the format of the URL and its various parts:</p>
<p><code>https://eval.contrastsecurity.com/Contrast/static/ng/index.html#/c992a0ef-e965-4f92-a410-e09256a78758/applications/2ac60539-9d58-4365-a006-dc0fc51efc7e</code></p>
<p>In the front is the server name, but we&rsquo;ll also see two embedded IDs:</p>
<ul>
<li><code>c992a0ef-e965-4f92-a410-e09256a78758</code></li>
<li><code>2ac60539-9d58-4365-a006-dc0fc51efc7e</code></li>
</ul>
<p>The first value is your organization UUID, or <code>{org_uuid}</code>.  Your <code>{org_uuid}</code> is where you collect the details of your various applications specific to your organization.  In this case, the organization is made up of one user - you.</p>
<p>The second value is your application ID, or<code>{app_id}</code>.  Your <code>{app_id}</code> is specific to your running instance of your WebGoat application.</p>
<p>Make note of those two values because we&rsquo;ll need them later.</p>
</section><section>
<h3 id="your-contrast_securityyaml-file">Your contrast_security.yaml file</h3>
<p>In your workshop welcome email, your instructor will provide with a file named <code>contrast_security.yaml</code> that contains your API details.  This file has the following structure:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape><span style="color:#66d9ef">api</span>:
  <span style="color:#66d9ef">url</span>: https://eval.contrastsecurity.com/Contrast
  <span style="color:#66d9ef">api_key</span>: &lt;YOUR_API_KEY<span style="color:#e6db74">&gt;
</span><span style="color:#e6db74">  service_key: &lt;YOUR_SERVICE_KEY&gt;</span>
  <span style="color:#66d9ef">user_name</span>: &lt;YOUR_USER_NAME&gt;
</code></pre></div><p>The four fields contain much of what you will be using in the next few pages.</p>
<p>This file is what your running applications use to authenticate with the server.  You are looking at this file to see how the agent we run uses the same details you will use in API requests.  Let&rsquo;s look at another page to see this information and more.</p>
</section><section>
<h3 id="user-api-details">User API details</h3>
<p>In TeamServer, Click on your name in the upper-right hand corner and then select &ldquo;Oragnization Settings&rdquo; to find your API details.</p>
<figure>
    <img src="16-user-details.png"/> 
</figure>

<p>Next, click on the API heading on the left to get those details
<figure>
    <img src="16-user-details-api.png"
         alt="See the full-sized picture" height="300px"/> <figcaption>
            <p><a href="16-user-details-api.png">See the full-sized picture</a></p>
        </figcaption>
</figure>
</p>
<p>Let&rsquo;s look at the content of that page.</p>
</section><section>
<h3 id="rest-api-details">REST API details</h3>
<p>The REST API page has the details you need to complete programmatic access to the server.  This page contains the same information from your <code>contrast_security.yaml</code> file and more.  This is the entire list of information:</p>
<ul>
<li><code>{org_uuid}</code></li>
<li><code>{api_key}</code></li>
<li><code>{url}</code></li>
<li><code>{user_name}</code></li>
<li><code>{service_key}</code></li>
</ul>
<figure>
    <img src="16-user-details-api-rest.png"
         alt="See the full-sized picture" height="300px"/> <figcaption>
            <p><a href="16-user-details-api-rest.png">See the full-sized picture</a></p>
        </figcaption>
</figure>

<p>The last piece of information is your Authorization Key, which you see by clicking on the &ldquo;Generate Sample API Request&rdquo; button.</p>
</section><section>
<h3 id="generate-sample-api-request">Generate Sample API Request</h3>
<p>The Authorization is the string of characters following the <code>-H 'Authorization:</code> text.  This Authorization value is necessary for REST API transactions.  You&rsquo;ll use this information in CLI, or your preferred programming environment.  This final piece is:</p>
<ul>
<li><code>{authorization_key}</code></li>
</ul>
<figure>
    <img src="16-user-details-api-auth.png"/> 
</figure>

</section><section>
<h3 id="setup-files">Setup files</h3>
<p>Run this setup script to make things a little easier, where you will be prompted for these values:</p>
<ul>
<li><code>{org_uuid}</code></li>
<li><code>{api_key}</code></li>
<li><code>{authorization_key}</code></li>
<li><code>{app_id}</code></li>
</ul>
<p>In the checkout directory (should be &ldquo;workshop&rdquo;), execute the following commands:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape>cd scripts\module1
setup.bat
</code></pre></div><p>The setup script will prompt you for details to create helper scripts.  These helper scripts are meant to make it easier to run API commands.  The outputs will be scripts with the content you need.  You can always re-run <code>setup.bat</code> to reset your scripts.</p>
</section><section>
<h3 id="list-vulnerabilities">List vulnerabilities</h3>
<p>Here is a sample API call to get a brief summary of found vulnerabilities where details specific to your application and server are represented by the values in braces <code>{}</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape>curl -X GET https://eval.contrastsecurity.com/Contrast/api/ng/<span style="color:#f92672">{</span>org-uuid<span style="color:#f92672">}</span>/traces/<span style="color:#f92672">{</span>app_id<span style="color:#f92672">}</span>/quick -H <span style="color:#e6db74">&#34;Authorization:{authorization_key}&#34;</span> -H <span style="color:#e6db74">&#34;API-Key:{api_key}&#34;</span>
</code></pre></div><p>On your workstation, we&rsquo;ve made it easy for you to run the command with a script:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape>cd /Users/contrast/workshop/scripts/module1
get-vulnerabilities.bat
</code></pre></div><p>The output is presented on the next page</p>
</section><section>
<h3 id="cli-output-of-vulnerabilties">CLI output of Vulnerabilties</h3>



<aside class="notes"><p>In this screen, we highlight the virtues of being a DevOps-friendly solution because of our API access at the CLI, or your other tooling.
When your teams integrate Contrast Security into your toolchain using the same techniques as other solutions, you amplify your capabilities by being able to automate decisions and process with the RIGHT information.</p>
</aside>
<p>In this sample output, you can see the format and structure of the results of an API call.  This type of capability empowers teams to add Contrast Security to their DevOps pipeline for any API-friendly tool.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape>{
  <span style="color:#f92672">&#34;success&#34;</span> : <span style="color:#66d9ef">true</span>,
  <span style="color:#f92672">&#34;messages&#34;</span> : [ <span style="color:#e6db74">&#34;Vulnerability quick filters loaded successfully&#34;</span> ],
  <span style="color:#f92672">&#34;filters&#34;</span> : [ {
    <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;All&#34;</span>,
    <span style="color:#f92672">&#34;count&#34;</span> : <span style="color:#ae81ff">18</span>,
    <span style="color:#f92672">&#34;filterType&#34;</span> : <span style="color:#e6db74">&#34;ALL&#34;</span>
  }, {
    <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;Open&#34;</span>,
    <span style="color:#f92672">&#34;count&#34;</span> : <span style="color:#ae81ff">18</span>,
    <span style="color:#f92672">&#34;filterType&#34;</span> : <span style="color:#e6db74">&#34;OPEN&#34;</span>
  }, {
    <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;High Confidence&#34;</span>,
    <span style="color:#f92672">&#34;count&#34;</span> : <span style="color:#ae81ff">0</span>,
    <span style="color:#f92672">&#34;filterType&#34;</span> : <span style="color:#e6db74">&#34;HIGH_CONFIDENCE&#34;</span>
  } ]
}
</code></pre></div></section><section>
<h3 id="third-party-software">Third-party Software</h3>



<aside class="notes"><p>Describe the value of being able to see third-party software</p>
</aside>
<p>Contrast Security also identifies third party components used in the application.  This is an important set of information for teams that want to see the following:</p>
<ul>
<li>What third-party software are we including?</li>
<li>What third-party software are we using?</li>
<li>Are we in compliance with those third-party software components?</li>
</ul>
<p>Contrast Security identifies only those libraries that are actually loaded by the application into the runtime.  Traditional SCA tools typically report on all libraries, regardless of use.  This means Contrast Security helps your team stay more focused on only those libraries in actual use, saving valuable time.</p>
</section>

<section data-noprocess data-shortcode-slide
      id="libraries">
  
<h2 id="libraries">Libraries</h2>



<aside class="notes"><p>Describe the value of being to see the libraries in your application and IF they are in use.</p>
</aside>
<p>You can view libraries by clicking on Libraries in the top menu:</p>
<figure>
    <img src="ce_libraries.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="ce_libraries.png">See the full-sized picture</a></p>
        </figcaption>
</figure>

</section><section>
<h3 id="library-via-api-call">Library via API call</h3>



<aside class="notes"><p>As with other aspects of Contrast Security, the API lets you programmatically access details.</p>
</aside>
<p>This information available via API as well:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape>curl -X GET https://ce.contrastsecurity.com/Contrast/api/ng/<span style="color:#f92672">{</span>org_uuid<span style="color:#f92672">}</span>/libraries -H <span style="color:#e6db74">&#34;Authorization:{authorization_key}&#34;</span> -H <span style="color:#e6db74">&#34;API-Key:{api_key}&#34;</span>
</code></pre></div><p>On your workstation, we&rsquo;ve made it easy for you to run the command with a script:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape>cd /Users/contrast/workshop/scripts/module1
get-libraries.bat
</code></pre></div><p>Sample output looks like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape>{
  <span style="color:#f92672">&#34;success&#34;</span> : <span style="color:#66d9ef">true</span>,
  <span style="color:#f92672">&#34;messages&#34;</span> : [ <span style="color:#e6db74">&#34;Libraries loaded successfully&#34;</span> ],
  <span style="color:#f92672">&#34;libraries&#34;</span> : [ {
    <span style="color:#f92672">&#34;hash&#34;</span> : <span style="color:#e6db74">&#34;0142ce64dcd709a4b5f6e7d71305a31d3893d077&#34;</span>,
    <span style="color:#f92672">&#34;file_name&#34;</span> : <span style="color:#e6db74">&#34;jackson-core-2.6.3.jar&#34;</span>,
    <span style="color:#f92672">&#34;app_language&#34;</span> : <span style="color:#e6db74">&#34;Java&#34;</span>,
    <span style="color:#f92672">&#34;custom&#34;</span> : <span style="color:#66d9ef">false</span>,
    <span style="color:#f92672">&#34;grade&#34;</span> : <span style="color:#e6db74">&#34;A&#34;</span>,
    <span style="color:#f92672">&#34;score&#34;</span> : <span style="color:#ae81ff">100</span>,
    <span style="color:#f92672">&#34;agePenalty&#34;</span> : <span style="color:#ae81ff">0.0</span>,
    <span style="color:#f92672">&#34;versionPenalty&#34;</span> : <span style="color:#ae81ff">0.0</span>,
    <span style="color:#f92672">&#34;version&#34;</span> : <span style="color:#e6db74">&#34;2.6.3&#34;</span>,
    <span style="color:#f92672">&#34;group&#34;</span> : <span style="color:#e6db74">&#34;com.fasterxml.jackson.core&#34;</span>,
    <span style="color:#f92672">&#34;file_version&#34;</span> : <span style="color:#e6db74">&#34;2.6.3&#34;</span>,
    <span style="color:#f92672">&#34;latest_version&#34;</span> : <span style="color:#e6db74">&#34;2.10.0.pr1&#34;</span>,
    <span style="color:#f92672">&#34;release_date&#34;</span> : <span style="color:#ae81ff">1444669679000</span>,
    <span style="color:#f92672">&#34;latest_release_date&#34;</span> : <span style="color:#ae81ff">1563505582000</span>,
    <span style="color:#f92672">&#34;classes_used&#34;</span> : <span style="color:#ae81ff">8</span>,
    <span style="color:#f92672">&#34;class_count&#34;</span> : <span style="color:#ae81ff">93</span>,
    <span style="color:#f92672">&#34;loc&#34;</span> : <span style="color:#ae81ff">38934</span>,
    <span style="color:#f92672">&#34;loc_shorthand&#34;</span> : <span style="color:#e6db74">&#34;39K&#34;</span>,
    <span style="color:#f92672">&#34;total_vulnerabilities&#34;</span> : <span style="color:#ae81ff">0</span>,
    <span style="color:#f92672">&#34;months_outdated&#34;</span> : <span style="color:#ae81ff">9</span>,
    <span style="color:#f92672">&#34;versions_behind&#34;</span> : <span style="color:#ae81ff">47</span>,
    <span style="color:#f92672">&#34;high_vulnerabilities&#34;</span> : <span style="color:#ae81ff">0</span>,
    <span style="color:#f92672">&#34;tags&#34;</span> : <span style="color:#66d9ef">null</span>,
    <span style="color:#f92672">&#34;restricted&#34;</span> : <span style="color:#66d9ef">false</span>,
    <span style="color:#f92672">&#34;invalid_version&#34;</span> : <span style="color:#66d9ef">false</span>,
    <span style="color:#f92672">&#34;bugtracker_tickets&#34;</span> : [ ],
    <span style="color:#f92672">&#34;licenses&#34;</span> : [ ],
    <span style="color:#f92672">&#34;ossEnabled&#34;</span> : <span style="color:#66d9ef">false</span>
  }],
  <span style="color:#f92672">&#34;count&#34;</span> : <span style="color:#66d9ef">null</span>,
  <span style="color:#f92672">&#34;averageScoreLetter&#34;</span> : <span style="color:#e6db74">&#34;B&#34;</span>,
  <span style="color:#f92672">&#34;averageScore&#34;</span> : <span style="color:#ae81ff">85</span>,
  <span style="color:#f92672">&#34;averageMonths&#34;</span> : <span style="color:#66d9ef">null</span>,
  <span style="color:#f92672">&#34;quickFilters&#34;</span> : [ ]
</code></pre></div></section><section>
<h3 id="how-to-discover-a-new-vulnerability">How to discover a new vulnerability</h3>



<aside class="notes"><p>As your teams exercise software in their testing, you will find more vulnerabilities if they exist.</p>
</aside>
<p>In this part we will discover a new vulnerability in Webgoat application and examine the finding in Contrast Security.</p>
<p>It is important to reiterate that Contrast Security identifies vulnerabilities by looking at the normal traffic that goes through the application. With that in mind, let&rsquo;s identify a SQL injection in Webgoat with Contrast.</p>
</section><section>
<h3 id="insert-a-vulnerability">Insert a Vulnerability</h3>
<ol>
<li>Log to Webgoat and navigate to Injection Flaws &ndash;&gt; String SQL injection. Then enter Smith or any other string into the field and click on Go button:</li>
</ol>
<p><figure>
    <img src="wg_1.png" height="400px"/> 
</figure>

<a href="wg_1.png">See the full-sized picture</a></p>
</section><section>
<h3 id="observe-the-new-vulnerability">Observe the new Vulnerability</h3>
<ol start="2">
<li>Now let&rsquo;s go back to Contrast Security and click on Vulnerabilities. As you can see, Contrast identified to new vulnerabilities: XSS and SQL injection.</li>
</ol>
<p><figure>
    <img src="ce_4.png" height="400px"/> 
</figure>

<a href="ce_4.png">See the full-sized picture</a></p>
<p>Now you can click on either vulnerabilities to get more information.</p>
</section><section>
<h3 id="how-to-protect-your-application-in-production">How to protect your application in production</h3>
<p>Contrast Security not only shifts security left but also extends it to the right and protect running applications in productions from being exploited due to known or unknown vulnerabilities. Contrast Security uses the same instrumentation, in the fact, the same agent to do this.</p>
</section><section>
<h3 id="teamserver-policies">TeamServer Policies</h3>



<aside class="notes"><p>Explain the value of policies and how they are applied to your organization as a pattern.  This is a time-saving capability that allows your teams to enable consistent and systematic approaches to your company&rsquo;s software security strategy.</p>
</aside>
<p>In your Community Edition, this feature is already enabled, and you can see that by navigating to the Policy submenu for WebGoat:</p>
<p><figure>
    <img src="ce_5.png" height="400px"/> 
</figure>

<a href="ce_5.png">See the full-sized picture</a></p>
</section><section>
<h3 id="teamserver-default-policies">TeamServer Default Policies</h3>



<aside class="notes"><p>Contrast Security provides default (Best practices) policies for your team as a start.  This helps your teams more quickly onboard the solution to be Contrast Ready.</p>
</aside>
<p>As you can see, Contrast Security is already protecting the application from exploiting most common vulnerabilities.</p>
<p>Now let&rsquo;s try attacking the application with SQL injection that Contrast discovered on the previous step. Go to the WebGoat site &ndash;&gt; String SQL injection and add the following payload: Smith&rsquo; or &lsquo;98'='98. You will see that no results have been found as Contrast is protecting the application.</p>
<p><figure>
    <img src="wg_3.png" height="400px"/> 
</figure>

<a href="wg_3.png">See the full-sized picture</a></p>
</section><section>
<h3 id="teamserver-policy-example">TeamServer policy example</h3>



<aside class="notes"><p>While we don&rsquo;t recommend your team turn off protective policies, it is useful to see how they can be adjusted to permit or disallow activities.  This helps your teams best identify how to respond to vulnerabilities we detect in your software.</p>
</aside>
<p>However, if you try a regular query like &ldquo;Smith&rdquo;, the request will go through and WebGoat will return some data.</p>
<p>Now let&rsquo;s try to turn Protect off and let&rsquo;s see what happens. If we go back to Contrast, we can turn off the SQL Injection rule as shown here:</p>
<p><figure>
    <img src="ce_6.png" height="400px"/> 
</figure>

<a href="ce_6.png">See the full-sized picture</a></p>
</section>

<section data-noprocess data-shortcode-slide
      id="next-steps">
  
<h2 id="next-steps">Next Steps</h2>



<aside class="notes"><p>TODO: Need to add more details here.</p>
</aside>
<p>Now you can try to exploit WebGoat again and see what happens.  You can do this be testing different parts of the website, which is a great instructional resource for different types of application vulnerabilities.</p>
</section>

  

    <section>

<section data-shortcode-section>
<h2 id="deploying-your-application">Deploying your application</h2>
<p>This workshop is designed to have you deploy an application so you can see its data added as part of an onboarding lifecycle.</p>
<p>Your instructor already deployed applications configured with your TeamServer credentials.  You will receive the connection details for your applications as a URLs for each vulnerable application.</p>
</section><section>
<h2 id="what-happens-when-you-deploy-an-application">What happens when you deploy an application?</h2>
<p>When you deploy your instrumented application, a few things happen:</p>
<ul>
<li>The agent connects with the remote TeamServer</li>
<li>The agent starts sending data for the application</li>
<li>If licenses are available, details for the application are visible in TeamServer</li>
</ul>
<p>In the next section, we&rsquo;ll look at working with the Contrast Security User Interface running on TeamServer.</p>

</section>
</section>
    <section>

<section data-shortcode-section>
<h2 id="introduction-to-teamserver">Introduction to TeamServer</h2>
<p>There are several options to observe information about vulnerabilities in Contrast Security:</p>
<ul>
<li>The browser User Interface (UI)</li>
<li>Programmatic/Command-Line (CLI) API access</li>
<li>Via various integrations (Jira, Slack, IDEs, etc.)</li>
</ul>
<p>In this workshop, we&rsquo;ll focus on the UI and CLI options.</p>
</section><section>
<aside class="notes"><p>The dashboard is a landing page for all Contrast Security users - developers, operations, security, and administrators.  The different dashboard pages provide a</p>
</aside>
<h2 id="log-on-to-teamserver">Log on to TeamServer</h2>
<p>Start by logging onto the Contrast Security UI at <a href="https://eval.contrastsecurity.com">https://eval.contrastsecurity.com</a> with your supplied username and password.</p>
<p>We&rsquo;ll use the default landing page&rsquo;s dashboard as the starting point for this module&rsquo;s exercise.</p>
<figure>
    <img src="../images/04-dashboard.png#center" height="400px"/> 
</figure>
<p><a href="../images/04-dashboard.png">See the full-sized picture</a></p>
</section><section>
<aside class="notes"><p>In this slide, we should have already setup each user with their running applications so data has been sent to TeamServer.</p>
</aside>
<h2 id="teamserver-notification">TeamServer Notification</h2>
<p>Click on the bell icon in the upper right-hand corner to see notifications alerting us to the automatic onboarding of our new server and application.</p>
<figure>
    <img src="01-notifications-new-applications.png" height="400px"/> 
</figure>
<p><a href="01-notifications-new-applications.png">See the full-sized picture</a></p>
<p>Your teams should expect an easy onboarding process especially if they regularly create and delete infrastructure and applications on demand.  This is especially true for teams as they shift to using cloud-based and ephemeral environments.  This automatic registration lets teams opt into a security model to the delight of your team members interested in security.</p>
</section><section>
<h2 id="teamserver-dashboard">TeamServer Dashboard</h2>
<p>Back to the main dashboard, you should see a summary about your deployed applications:</p>
<ul>
<li>Number of Applications, Libraries and Servers</li>
<li>Average time to remediate vulnerabilties</li>
<li>Current vulnerabilities, listed by severity</li>
<li>Current attacks</li>
</ul>
<figure>
    <img src="../images/04-dashboard.png#center" height="400px"/> 
</figure>
<p><a href="../images/04-dashboard.png">See the full-sized picture</a></p>
</section><section>
<h2 id="real-time-visibility">Real-Time Visibility</h2>
<p>As you and your teams onboard applications, their results will be added to Contrast Security for better visibility into the state of your application development in real time.  This screenshot shows the dashboard after greater use with much more activity.</p>
<figure>
    <img src="m1-dashboard.png" height="400px"/> 
</figure>
<p><a href="m1-dashboard.png">See the full-sized picture</a></p>
</section><section>
<h2 id="ongoing-data-collection">Ongoing Data Collection</h2>
<p>From the onset, you accumulate results in TeamServer.  This is the first of many advantages of IAST, where your team&rsquo;s day-to-day exercising and testing automatically generates meaningful results of security vulnerabilities.  As you and your teams exercise more of your software, we&rsquo;ll keep track of new vulnerabilities and their remediation.</p>
<p>This means you can add Contrast Security to your existing workflow and start using results immediately.
There is high value to all members of your team when you can leverage this information with minimal configuration.</p>
<p>Next, we&rsquo;ll look through TeamServer to uncover new vulnerabilties.  Start by clicking into the Application heading:</p>
<figure>
    <img src="04-dashboard-command-bar-applications.png"/> 
</figure>
<p><a href="04-dashboard-command-bar-applications.png">See the full-sized picture</a></p>
</section><section>
<p>Click into the name of your application, which contains &ldquo;webgoat&rdquo; and today&rsquo;s date.</p>
<figure>
    <img src="03-applications.png"/> 
</figure>
<p><a href="03-applications.png">See the full-sized picture</a></p>
</section><section>
<p>Contrast Security starts by collecting information the moment your application is deployed.</p>
<figure>
    <img src="09-webgoat-overview.png" height="500px"/> 
</figure>
<p><a href="09-webgoat-overview.png">See the full-sized picture</a></p>
</section><section>
<h2 id="lets-see-the-data-weve-already-collected">Let&rsquo;s see the data we&rsquo;ve already collected.</h2>
<p>Now that your application is running, let&rsquo;s review the information we have already collected.  This includes the following topics covered in the next several screens:</p>
<ul>
<li>Overview</li>
<li>Vulnerabilities</li>
<li>Attacks</li>
<li>Libraries</li>
<li>Activity</li>
<li>Route Coverage</li>
<li>Flow Map</li>
<li>Policy</li>
</ul>
</section>
<section data-noprocess data-shortcode-slide
    data-background="#32a852"
    data-transition="zoom"
    data-template="note">
<h2 id="the-overview-page">The overview page</h2>
<p>The next several slides are an overview of the TeamServer User Interface.  We&rsquo;ll walk you through each major page and describe what it brings to your team.</p>
</section><section>
<p>The overview pages</p>
<figure>
    <img src="09-webgoat-overview.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="09-webgoat-overview.png">See the full-sized picture</a></p>
        </figcaption>
</figure>
</section><section>
<p>The vulnerabilities page</p>
<figure>
    <img src="09-webgoat-vulnerabilities.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="09-webgoat-vulnerabilities.png">See the full-sized picture</a></p>
        </figcaption>
</figure>
</section><section>
<p>The attacks page. We don&rsquo;t yet have any.</p>
<figure>
    <img src="09-webgoat-attacks-none.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="09-webgoat-attacks-none.png">See the full-sized picture</a></p>
        </figcaption>
</figure>
</section><section>
<p>The Libraries page.</p>
<figure>
    <img src="09-webgoat-libraries.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="09-webgoat-libraries.png">See the full-sized picture</a></p>
        </figcaption>
</figure>
</section><section>
<p>The Route Coverage page, and why we have it.</p>
<figure>
    <img src="09-webgoat-route-coverage.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="09-webgoat-route-coverage.png">See the full-sized picture</a></p>
        </figcaption>
</figure>
</section><section>
<p>The Policy Page, and why we have it.</p>
<figure>
    <img src="09-webgoat-policy.png"
         alt="See the full-sized picture" height="500px"/> <figcaption>
            <p><a href="09-webgoat-policy.png">See the full-sized picture</a></p>
        </figcaption>
</figure>
</section><section>
<h2 id="exploiting-software">Exploiting software</h2>
<p>In the next section, we&rsquo;ll exploit the software for some known vulnerabilities.</p>

</section>
</section>
    <section>

<section data-shortcode-section>
<h1 id="sql-injection-exploits">SQL Injection Exploits</h1>
<p>In this section, we&rsquo;ll exploit the vulnerable application with a common tactic known as SQL injection.</p>
<p>SQL injection is a vulnerability that allows an attacker to insert extra commands into a text field.  This usually happens because the application does not have sufficient guards in the processing of that text field.  We&rsquo;ll look at an example in this section and show the results in TeamServer.</p>
</section><section>
<h2 id="a-sequence-showing-a-sql-injection">A sequence showing a SQL Injection</h2>
<p>Walk the user through the process of entering the text of our SQL injection demonstration.</p>
<ul>
<li>Tell them what page to navigate to</li>
<li>Tell them to enter text</li>
<li>Show the results in TeamServer</li>
<li>Navigate to the lines of code</li>
</ul>
</section><section>
<h2 id="navigate-to-the-application">Navigate to the application</h2>
<p>Let&rsquo;s start by navigating to the application:  http://localhost:18102/WebGoat</p>
</section><section>
<h2 id="the-webgoat-home-page">The WebGoat Home Page</h2>
<figure>
    <img src="../images/14-webgoat-mainpage.png" height="20%"/> 
</figure>
<aside class="notes"><p>Explain the nature of the WebGoat application, and some of the navigation options.</p>
</aside>
</section><section>
<h2 id="webgoat-sql-injecting-data-entry">WebGoat: SQL Injecting Data Entry</h2>
<figure>
    <img src="../images/14-webgoat-sql-injection.png"/> 
</figure>
</section><section>
<h2 id="teamserver-sql-injection-overview">TeamServer: SQL Injection Overview</h2>
<figure>
    <img src="../images/15-webgoat-sql-injection-overview.png"/> 
</figure>
</section><section>
<h2 id="teamserver-sql-injection-http-info-explained">TeamServer: SQL Injection HTTP Info explained</h2>
<figure>
    <img src="../images/15-webgoat-sql-injection-http-info.png"/> 
</figure>
</section><section>
<h2 id="teamserver-vulnerability-details">TeamServer: Vulnerability Details</h2>
<figure>
    <img src="../images/15-webgoat-sql-injection-details.png"/> 
</figure>
</section><section>
<h2 id="teamserver-sql-injection-how-to-fix">TeamServer: SQL Injection &ldquo;How To Fix&rdquo;</h2>
<figure>
    <img src="../images/15-webgoat-sql-injection-howto-fix.png"/> 
</figure>

</section>
</section>
    <section>

<section data-shortcode-section>
<h2 id="but-wait-theres-more-show-the-cli">But wait, there&rsquo;s more. Show the CLI.</h2>
<p>In this section, we&rsquo;ll show you how to programmatically access the same information via API.  At Contrast Security, we recognize the value an API-enabled solution provides to DevOps teams to access data and information.  In the next few examples, we&rsquo;ll show you some of the same information from the UI in CLI form.</p>
<p>You can also reference the Contrast Security [API documentation] (<a href="https://api.contrastsecurity.com">https://api.contrastsecurity.com</a>)</p>
</section><section>
<h2 id="list-vulnerabilities">List vulnerabilities</h2>
<p>Here is a sample API call to get a brief summary of found vulnerabilities where details specific to your application and server are represented by the values in braces <code>{}</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape>curl -X GET https://c.contrastsecurity.com/Contrast/api/ng/<span style="color:#f92672">{</span>orgUuid<span style="color:#f92672">}</span>/traces/<span style="color:#f92672">{</span>appId<span style="color:#f92672">}</span>/quick -H <span style="color:#e6db74">&#39;Authorization:{authorization-key}&#39;</span> -H <span style="color:#e6db74">&#39;API-Key:{API-Key}&#39;</span>
</code></pre></div><p>On your workstation, we&rsquo;ve made it easy for you to run the command with a script:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape>cd /Users/contrast/workshop/scripts
./m1-get-vulnerabilities.sh
</code></pre></div><p>The output is presented on the next page</p>
</section><section>
<h2 id="cli-output-of-vulnerabilties">CLI output of Vulnerabilties</h2>
<aside class="notes"><p>In this screen, we highlight the virtues of being a DevOps-friendly solution because of our API access at the CLI, or your other tooling.
When your teams integrate Contrast Security into your toolchain using the same techniques as other solutions, you amplify your capabilities by being able to automate decisions and process with the RIGHT information.</p>
</aside>
<p>In this sample output, you can see the format and structure of the results of an API call.  This type of capability empowers teams to add Contrast Security to their DevOps pipeline for any API-friendly tool.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape><span style="color:#f92672">{</span>
  <span style="color:#e6db74">&#34;success&#34;</span> : true,
  <span style="color:#e6db74">&#34;messages&#34;</span> : <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;Vulnerability quick filters loaded successfully&#34;</span> <span style="color:#f92672">]</span>,
  <span style="color:#e6db74">&#34;filters&#34;</span> : <span style="color:#f92672">[</span> <span style="color:#f92672">{</span>
    <span style="color:#e6db74">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;All&#34;</span>,
    <span style="color:#e6db74">&#34;count&#34;</span> : 18,
    <span style="color:#e6db74">&#34;filterType&#34;</span> : <span style="color:#e6db74">&#34;ALL&#34;</span>
  <span style="color:#f92672">}</span>, <span style="color:#f92672">{</span>
    <span style="color:#e6db74">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;Open&#34;</span>,
    <span style="color:#e6db74">&#34;count&#34;</span> : 18,
    <span style="color:#e6db74">&#34;filterType&#34;</span> : <span style="color:#e6db74">&#34;OPEN&#34;</span>
  <span style="color:#f92672">}</span>, <span style="color:#f92672">{</span>
    <span style="color:#e6db74">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;High Confidence&#34;</span>,
    <span style="color:#e6db74">&#34;count&#34;</span> : 0,
    <span style="color:#e6db74">&#34;filterType&#34;</span> : <span style="color:#e6db74">&#34;HIGH_CONFIDENCE&#34;</span>
  <span style="color:#f92672">}</span> <span style="color:#f92672">]</span>
<span style="color:#f92672">}</span>
</code></pre></div></section><section>
<h2 id="third-party-software">Third-party Software</h2>
<aside class="notes"><p>Describe the value of being able to see third-party software</p>
</aside>
<p>Contrast Security also identifies third party components used in the application.  This is an important set of information for teams that want to see the following:</p>
<ul>
<li>What third-party software are we including?</li>
<li>What third-party software are we using?</li>
<li>Are we in compliance with those third-party software components?</li>
</ul>
<p>Contrast Security identifies only those libraries that are actually loaded by the application into the runtime.  Traditional SCA tools typically report on all libraries, regardless of use.  This means Contrast Security helps your team stay more focused on only those libraries in actual use, saving valuable time.</p>
</section><section>
<h2 id="libraries">Libraries</h2>
<aside class="notes"><p>Describe the value of being to see the libraries in your application and IF they are in use.</p>
</aside>
<p>You can view libraries by clicking on Libraries in the top menu:</p>
<figure>
    <img src="../images/ce_libraries.png"/> 
</figure>
</section><section>
<h2 id="library-via-api-call">Library via API call</h2>
<aside class="notes"><p>As with other aspects of Contrast Security, the API lets you programmatically access details.</p>
</aside>
<p>This information available via API as well:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape>curl -X GET https://ce.contrastsecurity.com/Contrast/api/ng/<span style="color:#f92672">{</span>orgUuid<span style="color:#f92672">}</span>/libraries -H <span style="color:#e6db74">&#39;Authorization:{authorization-key}&#39;</span> -H <span style="color:#e6db74">&#39;API-Key:{API-Key}&#39;</span>
</code></pre></div><p>Sample output looks like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="nohighlight" data-noescape><span style="color:#f92672">{</span>
  <span style="color:#e6db74">&#34;success&#34;</span> : true,
  <span style="color:#e6db74">&#34;messages&#34;</span> : <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;Libraries loaded successfully&#34;</span> <span style="color:#f92672">]</span>,
  <span style="color:#e6db74">&#34;libraries&#34;</span> : <span style="color:#f92672">[</span> <span style="color:#f92672">{</span>
    <span style="color:#e6db74">&#34;hash&#34;</span> : <span style="color:#e6db74">&#34;0142ce64dcd709a4b5f6e7d71305a31d3893d077&#34;</span>,
    <span style="color:#e6db74">&#34;file_name&#34;</span> : <span style="color:#e6db74">&#34;jackson-core-2.6.3.jar&#34;</span>,
    <span style="color:#e6db74">&#34;app_language&#34;</span> : <span style="color:#e6db74">&#34;Java&#34;</span>,
    <span style="color:#e6db74">&#34;custom&#34;</span> : false,
    <span style="color:#e6db74">&#34;grade&#34;</span> : <span style="color:#e6db74">&#34;A&#34;</span>,
    <span style="color:#e6db74">&#34;score&#34;</span> : 100,
    <span style="color:#e6db74">&#34;agePenalty&#34;</span> : 0.0,
    <span style="color:#e6db74">&#34;versionPenalty&#34;</span> : 0.0,
    <span style="color:#e6db74">&#34;version&#34;</span> : <span style="color:#e6db74">&#34;2.6.3&#34;</span>,
    <span style="color:#e6db74">&#34;group&#34;</span> : <span style="color:#e6db74">&#34;com.fasterxml.jackson.core&#34;</span>,
    <span style="color:#e6db74">&#34;file_version&#34;</span> : <span style="color:#e6db74">&#34;2.6.3&#34;</span>,
    <span style="color:#e6db74">&#34;latest_version&#34;</span> : <span style="color:#e6db74">&#34;2.10.0.pr1&#34;</span>,
    <span style="color:#e6db74">&#34;release_date&#34;</span> : 1444669679000,
    <span style="color:#e6db74">&#34;latest_release_date&#34;</span> : 1563505582000,
    <span style="color:#e6db74">&#34;classes_used&#34;</span> : 8,
    <span style="color:#e6db74">&#34;class_count&#34;</span> : 93,
    <span style="color:#e6db74">&#34;loc&#34;</span> : 38934,
    <span style="color:#e6db74">&#34;loc_shorthand&#34;</span> : <span style="color:#e6db74">&#34;39K&#34;</span>,
    <span style="color:#e6db74">&#34;total_vulnerabilities&#34;</span> : 0,
    <span style="color:#e6db74">&#34;months_outdated&#34;</span> : 9,
    <span style="color:#e6db74">&#34;versions_behind&#34;</span> : 47,
    <span style="color:#e6db74">&#34;high_vulnerabilities&#34;</span> : 0,
    <span style="color:#e6db74">&#34;tags&#34;</span> : null,
    <span style="color:#e6db74">&#34;restricted&#34;</span> : false,
    <span style="color:#e6db74">&#34;invalid_version&#34;</span> : false,
    <span style="color:#e6db74">&#34;bugtracker_tickets&#34;</span> : <span style="color:#f92672">[</span> <span style="color:#f92672">]</span>,
    <span style="color:#e6db74">&#34;licenses&#34;</span> : <span style="color:#f92672">[</span> <span style="color:#f92672">]</span>,
    <span style="color:#e6db74">&#34;ossEnabled&#34;</span> : false
  <span style="color:#f92672">}]</span>,
  <span style="color:#e6db74">&#34;count&#34;</span> : null,
  <span style="color:#e6db74">&#34;averageScoreLetter&#34;</span> : <span style="color:#e6db74">&#34;B&#34;</span>,
  <span style="color:#e6db74">&#34;averageScore&#34;</span> : 85,
  <span style="color:#e6db74">&#34;averageMonths&#34;</span> : null,
  <span style="color:#e6db74">&#34;quickFilters&#34;</span> : <span style="color:#f92672">[</span> <span style="color:#f92672">]</span>
</code></pre></div></section><section>
<h2 id="how-to-discover-a-new-vulnerability">How to discover a new vulnerability</h2>
<aside class="notes"><p>As your teams exercise software in their testing, you will find more vulnerabilities if they exist.</p>
</aside>
<p>In this part we will discover a new vulnerability in Webgoat application and examine the finding in Contrast Security.</p>
<p>It is important to reiterate that Contrast Security identifies vulnerabilities by looking at the normal traffic that goes through the application. With that in mind, let&rsquo;s identify a SQL injection in Webgoat with Contrast.</p>
</section><section>
<h2 id="insert-a-vulnerability">Insert a Vulnerability</h2>
<ol>
<li>Log to Webgoat and navigate to Injection Flaws &ndash;&gt; String SQL injection. Then enter Smith or any other string into the field and click on Go button:</li>
</ol>
<figure>
    <img src="../images/wg_1.png"/> 
</figure>
</section><section>
<h2 id="observe-the-new-vulnerability">Observe the new Vulnerability</h2>
<ol start="2">
<li>Now let&rsquo;s go back to Contrast Security and click on Vulnerabilities. As you can see, Contrast identified to new vulnerabilities: XSS and SQL injection.</li>
</ol>
<figure>
    <img src="../images/ce_4.png"/> 
</figure>
<p>Now you can click on either vulnerabilities to get more information.</p>
</section><section>
<h2 id="how-to-protect-your-application-in-production">How to protect your application in production</h2>
<p>Contrast Security not only shifts security left but also extends it to the right and protect running applications in productions from being exploited due to known or unknown vulnerabilities. Contrast Security uses the same instrumentation, in the fact, the same agent to do this.</p>
</section><section>
<h2 id="teamserver-policies">TeamServer Policies</h2>
<aside class="notes"><p>Explain the value of policies and how they are applied to your organization as a pattern.  This is a time-saving capability that allows your teams to enable consistent and systematic approaches to your company&rsquo;s software security strategy.</p>
</aside>
<p>In your Community Edition, this feature is already enabled, and you can see that by navigating to the Policy submenu for WebGoat:</p>
<figure>
    <img src="../images/ce_5.png"/> 
</figure>
</section><section>
<h2 id="teamserver-default-policies">TeamServer Default Policies</h2>
<aside class="notes"><p>Contrast Security provides default (Best practices) policies for your team as a start.  This helps your teams more quickly onboard the solution to be Contrast Ready.</p>
</aside>
<p>As you can see, Contrast Security is already protecting the application from exploiting most common vulnerabilities.</p>
<p>Now let&rsquo;s try attacking the application with SQL injection that Contrast discovered on the previous step. Go to the WebGoat site &ndash;&gt; String SQL injection and add the following payload: Smith&rsquo; or &lsquo;98'='98. You will see that no results have been found as Contrast is protecting the application.</p>
<figure>
    <img src="../images/wg_3.png"/> 
</figure>
</section><section>
<h2 id="teamserver-policy-example">TeamServer policy example</h2>
<aside class="notes"><p>While we don&rsquo;t recommend your team turn off protective policies, it is useful to see how they can be adjusted to permit or disallow activities.  This helps your teams best identify how to respond to vulnerabilities we detect in your software.</p>
</aside>
<p>However, if you try a regular query like &ldquo;Smith&rdquo;, the request will go through and WebGoat will return some data.</p>
<p>Now let&rsquo;s try to turn Protect off and let&rsquo;s see what happens. If we go back to Contrast, we can turn off the SQL Injection rule as shown here:</p>
<figure>
    <img src="../images/ce_6.png"/> 
</figure>
</section><section>
<h2 id="next-steps">Next Steps</h2>
<aside class="notes"><p>TODO: Need to add more details here.</p>
</aside>
<p>Now you can try to exploit WebGoat again and see what happens</p>

</section>
</section>

</div>
      <div class="line top"></div>
<div class="line bottom"></div>
<div class="line left"></div>
<div class="line right"></div>

    </div>
<script type="text/javascript" src=/workshop-hugo/reveal-hugo/object-assign.js></script>

<a href="/workshop-hugo/reveal-js/css/print/" id="print-location" style="display: none;"></a>
<script type="text/javascript">
  var printLocationElement = document.getElementById('print-location');
  var link = document.createElement('link');
  link.rel = 'stylesheet';
  link.type = 'text/css';
  link.href = printLocationElement.href + (window.location.search.match(/print-pdf/gi) ? 'pdf.css' : 'paper.css');
  document.getElementsByTagName('head')[0].appendChild(link);
</script>

<script type="application/json" id="reveal-hugo-site-params">{"center":true,"hash":true,"height":"100%","keyboard":true,"margin":0.1,"max_scale":1,"min_scale":1,"mouse_wheel":true,"overview":true,"progress":true,"slide_number":true,"theme":"contrast","width":"100%"}</script>
<script type="application/json" id="reveal-hugo-page-params">{"templates":{"info":{"background":"#0011dd","transition":"convex"},"note":{"background":"#32a852","transition":"zoom"},"tip":{"background":"#faa332","transition":"zoom"},"warning":{"background":"#fa220a","transition":"zoom"}}}</script>

<script src="/workshop-hugo/reveal-js/js/reveal.js"></script>

<script type="text/javascript">
  
  
  function camelize(map) {
    if (map) {
      Object.keys(map).forEach(function(k) {
        newK = k.replace(/(\_\w)/g, function(m) { return m[1].toUpperCase() });
        if (newK != k) {
          map[newK] = map[k];
          delete map[k];
        }
      });
    }
    return map;
  }
  
  var revealHugoDefaults = { center: true, controls: true, history: true, progress: true, transition: "slide" };
  var revealHugoSiteParams = JSON.parse(document.getElementById('reveal-hugo-site-params').innerHTML);
  var revealHugoPageParams = JSON.parse(document.getElementById('reveal-hugo-page-params').innerHTML);
  
  var options = Object.assign({},
    camelize(revealHugoDefaults),
    camelize(revealHugoSiteParams),
    camelize(revealHugoPageParams));
  Reveal.initialize(options);
</script>


  
  
  <script type="text/javascript" src="/workshop-hugo/reveal-js/plugin/markdown/marked.js"></script>
  
  <script type="text/javascript" src="/workshop-hugo/reveal-js/plugin/markdown/markdown.js"></script>
  
  <script type="text/javascript" src="/workshop-hugo/reveal-js/plugin/highlight/highlight.js"></script>
  
  <script type="text/javascript" src="/workshop-hugo/reveal-js/plugin/zoom-js/zoom.js"></script>
  
  
  <script type="text/javascript" src="/workshop-hugo/reveal-js/plugin/notes/notes.js"></script>



    <img id="logo" src="../images/contrast-security-logo.png" alt="Contrast Security">

<style>
  #logo {
    position: absolute;
    top: 20px;
    left: 20px;
    width: 100px;
  }
</style>

    


<script type="text/javascript">

Reveal.addEventListener('slidechanged', function(event) {
  console.log("🎞️ Slide is now " + event.indexh);
});
</script>

  </body>
</html>
